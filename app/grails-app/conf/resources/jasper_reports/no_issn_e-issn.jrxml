<?xml version="1.0" encoding="UTF-8"?>
<!-- Created with Jaspersoft Studio version last-->
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="no_issn_e-issn" pageWidth="595" pageHeight="842" columnWidth="535" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="24bbdcf4-b2ae-417d-8c23-04bfc4896c56">
	<property name="com.jaspersoft.studio.data.defaultdataadapter" value="New Data Adapter "/>
	<parameter name="report_description" class="java.lang.String">
		<parameterDescription><![CDATA[A report listing all titles that have no ISSN or e-ISSN attached]]></parameterDescription>
	</parameter>
	<queryString language="SQL">
		<![CDATA[
SET @issn_type_id = null, @eissn_type_id=null, @doi_type_id=null;
select @issn_type_id:=idns_id from identifier_namespace where idns_ns='ISSN';
select @eissn_type_id:=idns_id from identifier_namespace where idns_ns='eISSN';
select @doi_type_id:=idns_id from identifier_namespace where idns_ns='DOI';

select ti.ti_id, ti_title
from title_instance as ti
where not exists ( select io.io_id
from identifier_occurrence as io,
identifier as id
where io_ti_fk = ti.ti_id
and io.io_canonical_id = id_id
and id.id_ns_fk in ( @issn_type_id, @eissn_type_id, @doi_type_id ) );
]]>
	</queryString>
	<field name="ti_id" class="java.lang.Long">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="ti_title" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<background>
		<band/>
	</background>
	<title>
		<band height="72">
			<frame>
				<reportElement mode="Opaque" x="-20" y="-20" width="595" height="92" backcolor="#007A5E" uuid="89c5ece4-e378-4d1d-b992-38cd8c51c0b0"/>
				<staticText>
					<reportElement x="18" y="20" width="377" height="43" forecolor="#FFFFFF" uuid="68c06437-6bff-4977-ac9c-96d7692eb3ee"/>
					<textElement>
						<font size="24" isBold="true"/>
					</textElement>
					<text><![CDATA[Titles without ISSN/e-ISSN]]></text>
				</staticText>
				<staticText>
					<reportElement x="395" y="43" width="180" height="20" forecolor="#FFFFFF" uuid="f3e2ba28-8cc5-4659-83c2-9e3a064f9fe2"/>
					<textElement textAlignment="Right">
						<font size="14" isBold="false"/>
					</textElement>
					<text><![CDATA[Add a description here]]></text>
				</staticText>
			</frame>
		</band>
	</title>
	<pageHeader>
		<band height="13"/>
	</pageHeader>
	<columnHeader>
		<band height="21">
			<line>
				<reportElement x="-20" y="20" width="595" height="1" forecolor="#666666" uuid="2749ddc4-899c-4bee-899a-f569fb18d2e4"/>
			</line>
			<staticText>
				<reportElement mode="Opaque" x="0" y="0" width="100" height="20" forecolor="#007A5E" backcolor="#E6E6E6" uuid="494e6355-64a4-4c15-a004-97d107bb3209"/>
				<textElement textAlignment="Center">
					<font size="14" isBold="true"/>
				</textElement>
				<text><![CDATA[id]]></text>
			</staticText>
			<staticText>
				<reportElement mode="Opaque" x="110" y="0" width="444" height="20" forecolor="#007A5E" backcolor="#E6E6E6" uuid="436181bf-58b5-4b93-a7ef-a65b0daf5777"/>
				<textElement textAlignment="Center">
					<font size="14" isBold="true"/>
				</textElement>
				<text><![CDATA[Title]]></text>
			</staticText>
		</band>
	</columnHeader>
	<detail>
		<band height="20">
			<line>
				<reportElement positionType="FixRelativeToBottom" x="0" y="19" width="555" height="1" uuid="cd8bd8ef-cdae-42a0-a681-5b32356a2ab0"/>
			</line>
			<textField isStretchWithOverflow="true">
				<reportElement x="0" y="0" width="277" height="20" uuid="09cfb343-61c5-44f6-ab11-91bf00de81a1"/>
				<textElement>
					<font size="12"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{ti_id}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true">
				<reportElement x="110" y="0" width="444" height="20" uuid="878ae7e8-1bd6-4854-9b6a-e2af74f1d370"/>
				<textElement>
					<font size="12"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{ti_title}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<columnFooter>
		<band/>
	</columnFooter>
	<pageFooter>
		<band height="17">
			<textField>
				<reportElement mode="Opaque" x="0" y="4" width="515" height="13" backcolor="#E6E6E6" uuid="7fba776e-8460-4bc2-b3e8-f02329d84929"/>
				<textElement textAlignment="Right"/>
				<textFieldExpression><![CDATA["Page "+$V{PAGE_NUMBER}+" of"]]></textFieldExpression>
			</textField>
			<textField evaluationTime="Report">
				<reportElement mode="Opaque" x="515" y="4" width="40" height="13" backcolor="#E6E6E6" uuid="b11082e3-b152-4a32-bceb-73b4bea47b96"/>
				<textFieldExpression><![CDATA[" " + $V{PAGE_NUMBER}]]></textFieldExpression>
			</textField>
			<textField pattern="EEEEE dd MMMMM yyyy">
				<reportElement x="0" y="4" width="100" height="13" uuid="28fe0d3c-7c6d-47c0-873b-a7b3fa1e68ae"/>
				<textFieldExpression><![CDATA[new java.util.Date()]]></textFieldExpression>
			</textField>
		</band>
	</pageFooter>
	<summary>
		<band/>
	</summary>
</jasperReport>
